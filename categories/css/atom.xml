<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: css | Hey, I’m Parker.]]></title>
  <link href="http://blog.parkermoore.de/categories/css/atom.xml" rel="self"/>
  <link href="http://blog.parkermoore.de/"/>
  <updated>2014-08-01T23:48:13-04:00</updated>
  <id>http://blog.parkermoore.de/</id>
  <author>
    <name><![CDATA[Parker Moore]]></name>
    <email><![CDATA[parkrmoore@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Header Anchor Links in Vanilla JavaScript for GitHub Pages and Jekyll]]></title>
    <link href="http://blog.parkermoore.de/2014/08/01/header-anchor-links-in-vanilla-javascript-for-github-pages-and-jekyll/"/>
    <updated>2014-08-01T23:36:54-04:00</updated>
    <id>http://blog.parkermoore.de/2014/08/01/header-anchor-links-in-vanilla-javascript-for-github-pages-and-jekyll</id>
    <content type="html"><![CDATA[<p>The venerable <a href="http://ben.balter.com">Ben Balter, Esq.</a> wrote earlier this year about <a href="http://ben.balter.com/2014/03/13/pages-anchor-links/">how to add anchor links for headers in Jekyll.</a>. I thought I&#39;d follow up that post with one of my own, as I take a slightly different approach.</p>

<p>This solution is vanilla JavaScript with a little CSS and the Font Awesome web font.</p>

<h2>Font Awesome</h2>

<p><a href="http://fortawesome.github.io/Font-Awesome/">Font Awesome</a> is, well, awesome. It&#39;s a font of icons that comes with a handy set of CSS classes.</p>

<p>Download the Font Awesome distribution and pull out just the font files. They&#39;re the files that end in <code>.ttf</code>, <code>.woff</code>, <code>.svg</code>, <code>.otf</code>, and <code>.eot</code>. Grab them all and put them in <code>fonts/</code> in your Jekyll site.</p>

<h2>The JavaScript</h2>

<p>Add this JavaScript wherever is convenient:</p>

<p><div class="highlight"><pre><code class="js"><span class="kd">var</span> <span class="nx">anchorForId</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">anchor</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="nx">a</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;);</span>
  <span class="nx">anchor</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="o">&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="nx">header</span><span class="o">-</span><span class="nx">link</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;;</span>
  <span class="nx">anchor</span><span class="p">.</span><span class="nx">href</span>      <span class="o">=</span> <span class="o">&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="err">#</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;</span> <span class="o">+</span> <span class="nx">id</span><span class="p">;</span>
  <span class="nx">anchor</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="o">&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="o">&lt;</span><span class="nx">i</span> <span class="kr">class</span><span class="o">=</span><span class="err">\</span><span class="s2">"fa fa-link\"&gt;&lt;/i&gt;&amp;quot;;
  return anchor;
};&lt;/p&gt;

&lt;p&gt;var linkifyAnchors = function (level, containingElement) {
  var headers = containingElement.getElementsByTagName(&amp;quot;h&amp;quot; + level);
  for (var h = 0; h &amp;lt; headers.length; h++) {
    var header = headers[h];&lt;/p&gt;
&lt;div class="</span><span class="nx">highlight</span><span class="s2">"&gt;&lt;pre&gt;&lt;code class="</span><span class="nx">language</span><span class="o">-</span><span class="s2">" data-lang=""&gt;if (typeof header.id !== "</span><span class="kc">undefined</span><span class="s2">" &amp;amp;&amp;amp; header.id !== "</span><span class="err">"</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">header</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">anchorForId</span><span class="p">(</span><span class="nx">header</span><span class="p">.</span><span class="nx">id</span><span class="p">));</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="sr">/code&gt;&lt;/</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">}</span>
<span class="p">};</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nb">document</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="o">&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="nx">complete</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">contentBlock</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="nx">docs</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="nx">news</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;)[</span><span class="mi">0</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">contentBlock</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">level</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">level</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="o">=</span> <span class="mi">6</span><span class="p">;</span> <span class="nx">level</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">linkifyAnchors</span><span class="p">(</span><span class="nx">level</span><span class="p">,</span> <span class="nx">contentBlock</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span></code></pre></div></p>

<h2>The CSS</h2>

<p>Last, add this CSS to the <code>css</code> or <code>_scss</code> folder:</p>

<p><div class="highlight"><pre><code class="css"><span class="o">/&lt;</span><span class="nt">em</span><span class="o">&gt;!</span>
 <span class="o">*</span>  <span class="nt">Font</span> <span class="nt">Awesome</span> <span class="nt">4</span><span class="nc">.1.0</span> <span class="nt">by</span> <span class="k">@davegandy</span> <span class="n">-</span> <span class="n">http</span><span class="p">://</span><span class="n">fontawesome</span><span class="p">.</span><span class="n">io</span> <span class="n">-</span> <span class="err">@</span><span class="n">fontawesome</span>
 <span class="err">*</span>  <span class="n">License</span> <span class="n">-</span> <span class="n">http</span><span class="p">://</span><span class="n">fontawesome</span><span class="p">.</span><span class="n">io</span><span class="p">/</span><span class="n">license</span> <span class="p">(</span><span class="n">Font</span><span class="p">:</span> <span class="n">SIL</span> <span class="n">OFL</span> <span class="m">1.1</span><span class="p">,</span> <span class="n">CSS</span><span class="p">:</span> <span class="n">MIT</span> <span class="n">License</span><span class="p">)</span>
 <span class="err">*</span><span class="p">/</span>
<span class="err">@</span><span class="n">font-face</span> <span class="p">{</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="err">&amp;</span><span class="m">#39</span><span class="p">;</span><span class="err">FontAwesome&amp;#39;;</span>
  <span class="nl">src</span><span class="p">:</span> <span class="sx">url(&amp;#39;../fonts/fontawesome-webfont.eot?v=4.1.0&amp;#39;)</span><span class="p">;</span>
  <span class="nl">src</span><span class="p">:</span> <span class="sx">url(&amp;#39;../fonts/fontawesome-webfont.eot?#iefix&amp;amp;v=4.1.0&amp;#39;)</span> <span class="n">format</span><span class="p">(</span><span class="err">&amp;</span><span class="m">#39</span><span class="p">;</span><span class="err">embedded-opentype&amp;#39;),</span> <span class="err">url(&amp;#39;../fonts/fontawesome-webfont.woff?v=4.1.0&amp;#39;)</span> <span class="err">format(&amp;#39;woff&amp;#39;),</span> <span class="err">url(&amp;#39;../fonts/fontawesome-webfont.ttf?v=4.1.0&amp;#39;)</span> <span class="err">format(&amp;#39;truetype&amp;#39;),</span> <span class="err">url(&amp;#39;../fonts/fontawesome-webfont.svg?v=4.1.0#fontawesomeregular&amp;#39;)</span> <span class="err">format(&amp;#39;svg&amp;#39;);</span>
  <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">normal</span><span class="p">;</span>
  <span class="nl">font-style</span><span class="p">:</span> <span class="nb">normal</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.fa</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="n">FontAwesome</span><span class="p">;</span>
  <span class="nl">font-style</span><span class="p">:</span> <span class="nb">normal</span><span class="p">;</span>
  <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">normal</span><span class="p">;</span>
  <span class="nl">line-height</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
  <span class="nl">-webkit-font-smoothing</span><span class="p">:</span> <span class="n">antialiased</span><span class="p">;</span>
  <span class="nl">-moz-osx-font-smoothing</span><span class="p">:</span> <span class="n">grayscale</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.fa-link</span><span class="nd">:before</span> <span class="p">{</span>
  <span class="nl">content</span><span class="p">:</span> <span class="err">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="err">\f0c1&amp;quot;;</span>
<span class="p">}</span>
<span class="o">/&lt;/</span><span class="nt">em</span><span class="o">&gt;</span>
 <span class="o">*</span> <span class="nt">This</span> <span class="nt">code</span> <span class="nt">is</span> <span class="nt">courtesy</span> <span class="nt">Ben</span> <span class="nt">Balter</span><span class="o">,</span> <span class="nt">modified</span> <span class="nt">by</span> <span class="nt">Parker</span> <span class="nt">Moore</span> <span class="nt">for</span> <span class="nt">jekyllrb</span><span class="nc">.com</span>
 <span class="o">*</span> <span class="nt">http</span><span class="o">://</span><span class="nt">ben</span><span class="nc">.balter.com</span><span class="o">/</span><span class="nt">2014</span><span class="o">/</span><span class="nt">03</span><span class="o">/</span><span class="nt">13</span><span class="o">/</span><span class="nt">pages-anchor-links</span><span class="o">/</span>
 <span class="o">*/</span>
<span class="nc">.header-link</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
  <span class="nl">left</span><span class="p">:</span> <span class="m">0.5em</span><span class="p">;</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">0.8em</span><span class="p">;</span><span class="err">&lt;/p&gt;</span>

<span class="err">&lt;p&gt;</span><span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.2s</span> <span class="n">ease-in-out</span> <span class="m">0.1s</span><span class="p">;</span>
  <span class="nl">-moz-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.2s</span> <span class="n">ease-in-out</span> <span class="m">0.1s</span><span class="p">;</span>
  <span class="nl">-ms-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">0.2s</span> <span class="n">ease-in-out</span> <span class="m">0.1s</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">h2</span><span class="nd">:hover</span> <span class="nc">.header-link</span><span class="o">,</span>
<span class="nt">h3</span><span class="nd">:hover</span> <span class="nc">.header-link</span><span class="o">,</span>
<span class="nt">h4</span><span class="nd">:hover</span> <span class="nc">.header-link</span><span class="o">,</span>
<span class="nt">h5</span><span class="nd">:hover</span> <span class="nc">.header-link</span><span class="o">,</span>
<span class="nt">h6</span><span class="nd">:hover</span> <span class="nc">.header-link</span> <span class="p">{</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
<span class="p">}</span></code></pre></div></p>

<h2>Enjoy the Magic</h2>

<p>Now refresh your site and voilà! It&#39;s like magic. See it in action in the <a href="http://jekyllrb.com/docs/home/">Jekyll docs</a>.</p>
]]></content>
  </entry>
  
</feed>
